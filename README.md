# 12-03-kubernetes-install-part-1
Для начала произведём расчёт необходимой мощности рабочих нагрузок.
Сводные данные представлены в таблице, данные по HDD взяты "с потолка".
Из приведённого расчёта видно, что наиболее требовательна система к емкости дисков. 


|тип сервера    | Количество   | CPU, per one  | RAM,Gb, per one | HDD,Gb ,per one | CPU,sum      | RAM,Gb,sum    | HDD, Gb,sum   |
|:------------- |:-------------| :-------------| :-------------  | :-------------  |:-------------| :-------------| :-------------| 
| Database      |3             |1              |4                |15               | 3            | 12            |45             | 
| Cache         |3             |1              |4                |15               | 3            | 12            |45             |
| Frontend      |5             |0.1            |0.05             |30               | 0.5          | 0.25          |150            |
| Back end      |10            |1              |0.06             |10               | 10           | 6             |100            |
| Итого         |              |               |                 |                 | 16,5         | 30,25         |340            |

Расчёт мощности нод:

Нам необходимы 2 мастер-ноды, чтобы обеспечить отказоустойчивость управления рабочей нагрузкой. Увеличим минимальные требования по CPU и RAM до 2 CPU и 2Gb RAM на одну мастер-ноду. 

Количество воркер-нод возьмём равной 3, чтобы система работала штатно при отказе одной из них. Увеличение до 5 не целесообразно, т.к. на управление будет затрачиваться значительная часть ресурсов в отношение к величение рабочей нагрузки.  Увеличим минимальные требования по CPU и RAM до 2 CPU и 2Gb RAM на одну воркер-ноду для работы обслуживающего ПО эту самую ноду. 

Расчёт минимального необходимой мощности для обслуживающего ПО ниже, без учёта размещения на воркер-нодах нагрузок.

|тип сервера    | Количество   | CPU, per one  | RAM,Gb, per one | HDD,Gb ,per one | CPU,sum      | RAM,Gb,sum    | HDD, Gb,sum   |
|:------------- |:-------------| :-------------| :-------------  | :-------------  |:-------------| :-------------| :-------------| 
| Control node  |2             |2              |2                |50               | 4            | 4             |100            |
| Worker node   |3             |2              |2                |100              | 6            | 6             |300            | 
| Итого         |              |               |                 |                 | 10           | 10            |400            |

Для расчёта итогово количества необходимых ресурсов возьмём коэффицент запаса для рабоей нагрузки, равный 1,4 по CPU и RAM, и 1,6 по HDD, т.к. по месту требования более серьёзные, чем по вычислительным мощностям

ИТОГО необходимые мощности, округлены до целых чисел в большую сторону 

CPU: 16,5 x 1,4 + 10 =  33,1 = 34 CPU

RAM: 30,25 x 1,4 + 10 = 52,35 = 53 Gb

HDD: 340 x 1,6 + 400 = 944 Gb



